// This is an autogenerated file from Firebase Studio.
'use server';
import { db } from '@/lib/firebase';
import type { CustomMeal } from '@/lib/types';
import { collection, getDocs, addDoc } from 'firebase/firestore';

const mealCollection = collection(db, 'customMeals');

export async function getCustomMeals(): Promise<CustomMeal[]> {
    const snapshot = await getDocs(mealCollection);
    return snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() } as CustomMeal));
}

export async function addCustomMeal(meal: Omit<CustomMeal, 'id'>): Promise<CustomMeal> {
    const docRef = await addDoc(mealCollection, meal);
    return { id: docRef.id, ...meal };
}
